<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="css/base.css">
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    </head>

    <body>
        <main>
            <section class="form-section">
                <form class="base-form", id="sign-up-form">
                  <div class="form-input">
                    <input type="text" name="username" id="username" placeholder="Username" required>
                    <p class="warning">First name cannot be empty</p>
                  </div>
                  <div class="form-input">
                    <input type="Password" name="password" id="Password" placeholder="Password" required>
                    <p class="warning">Password cannot be empty</p>
                  </div>
                  <div class="form-input">
                    <input type="Password" name="confirmPassword" id="ConfirmPassword" placeholder="Confirm Password" required>
                    <p class="warning">Password cannot be empty</p>
                  </div>
                  <input class="send-btn" type="button" value="Register" onclick=sendRegister();>
                </form>
              </section>
        </main>

        <script>
          var axios;

          function sendRegister() {
            // var data = new FormData(document.getElementById("sign-up-form"));
            // delete data.ConfirmPassword;
            data = document.querySelector('#sign-up-form')

            axios.post(
              '/v1/auth/register',
              data,
              {
                headers: {
                  'Content-Type': 'application/json'
                }
              }
              )
              .then(function (response) {
                console.log(response);
                window.location.assign("/2fa-config.html")
              })
              .catch(function (error) {
                console.log(error);
              })
          };

        </script>
    </body>
</html>